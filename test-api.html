<!DOCTYPE html>
<html>
<head>
    <title>Teste API Agendamentos</title>
</head>
<body>
    <h1>Teste API Agendamentos</h1>
    <button onclick="testarCriarAgendamento()">Criar Agendamento Teste</button>
    <button onclick="testarListarAgendamentos()">Listar Agendamentos</button>
    <div id="resultado"></div>

    <script>
        const API_BASE = 'https://barbeariacaio.onrender.com';
        
        async function testarCriarAgendamento() {
            try {
                const agendamento = {
                    nome: 'Jo√£o Teste',
                    telefone: '(45) 99999-9999',
                    servico: 'Corte Masculino',
                    data: '2025-08-15',
                    horario: '10:00'
                };
                
                const response = await fetch(`${API_BASE}/agendamentos`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(agendamento)
                });
                
                const resultado = await response.json();
                document.getElementById('resultado').innerHTML = `
                    <h3>Resultado Criar:</h3>
                    <pre>${JSON.stringify(resultado, null, 2)}</pre>
                `;
            } catch (error) {
                document.getElementById('resultado').innerHTML = `
                    <h3>Erro:</h3>
                    <p>${error.message}</p>
                `;
            }
        }
        
        async function testarListarAgendamentos() {
            try {
                const response = await fetch(`${API_BASE}/agendamentos`);
                const resultado = await response.json();
                document.getElementById('resultado').innerHTML = `
                    <h3>Resultado Listar:</h3>
                    <pre>${JSON.stringify(resultado, null, 2)}</pre>
                `;
            } catch (error) {
                document.getElementById('resultado').innerHTML = `
                    <h3>Erro:</h3>
                    <p>${error.message}</p>
                `;
            }
        }
    </script>
</body>
</html>
