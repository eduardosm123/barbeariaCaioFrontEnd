<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Barbearia VIP - Sua Barbearia de Confiança</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            gold: '#D4AF37',
            darkgold: '#B8941F'
          }
        }
      }
    }
  </script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white transition-colors duration-300">
  <!-- Header/Navbar -->
  <header class="fixed w-full top-0 z-50 bg-black/95 backdrop-blur-sm border-b border-gray-800">
    <nav class="container mx-auto px-4 py-4 flex items-center justify-between">
      <div class="text-2xl font-bold text-gold">Barbearia VIP</div>
      <div class="hidden md:flex space-x-8">
        <a href="#inicio" class="text-white hover:text-gold transition-colors">Início</a>
        <a href="#servicos" class="text-white hover:text-gold transition-colors">Serviços</a>
        <a href="#sobre" class="text-white hover:text-gold transition-colors">Sobre</a>
        <a href="#contato" class="text-white hover:text-gold transition-colors">Contato</a>
        <a href="admin.html" class="text-white hover:text-gold transition-colors" title="Área Administrativa">Admin</a>
      </div>
      <!-- Mobile menu button -->
      <button class="md:hidden text-white hover:text-gold transition-colors" id="mobileMenuBtn">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </nav>
    <!-- Mobile menu -->
    <div class="md:hidden bg-black/95 border-t border-gray-800 hidden" id="mobileMenu">
      <div class="container mx-auto px-4 py-4 space-y-4">
        <a href="#inicio" class="block text-white hover:text-gold transition-colors">Início</a>
        <a href="#servicos" class="block text-white hover:text-gold transition-colors">Serviços</a>
        <a href="#sobre" class="block text-white hover:text-gold transition-colors">Sobre</a>
        <a href="#contato" class="block text-white hover:text-gold transition-colors">Contato</a>
        <a href="admin.html" class="block text-white hover:text-gold transition-colors">Admin</a>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="inicio" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 relative overflow-hidden">
    <div class="absolute inset-0 bg-black/20"></div>
    <div class="container mx-auto px-4 text-center relative z-10">
      <h1 class="text-5xl md:text-7xl font-bold mb-6 text-white">
        Estilo e <span class="text-gold">Elegância</span>
      </h1>
      <p class="text-xl md:text-2xl mb-8 text-gray-200 max-w-2xl mx-auto">
        Transforme seu visual com os melhores profissionais da cidade. Cortes modernos, barba impecável e um atendimento de primeira classe.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <button id="openModalBtn" class="bg-gold hover:bg-darkgold text-black font-semibold py-4 px-8 rounded-lg transition-colors text-lg text-center">
          Agendar Horário
        </button>
        <a href="#servicos" class="border-2 border-white text-white hover:bg-white hover:text-black font-semibold py-4 px-8 rounded-lg transition-colors text-lg text-center">
          Ver Serviços
        </a>
      </div>
    </div>
    <!-- Decorative elements -->
    <div class="absolute top-20 left-10 w-20 h-20 border-2 border-gold/30 rotate-45"></div>
    <div class="absolute bottom-20 right-10 w-16 h-16 border-2 border-gold/30 rotate-12"></div>
  </section>

  <!-- Services Section -->
  <section id="servicos" class="py-20 bg-gray-50 dark:bg-gray-800 scroll-mt-24">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-4">Nossos Serviços</h2>
        <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
          Oferecemos uma gama completa de serviços para cuidar do seu visual com excelência
        </p>
      </div>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Service 1 -->
        <div class="bg-white dark:bg-gray-700 p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow">
          <div class="w-20 h-20 bg-gold/10 rounded-full flex items-center justify-center mb-6">
            <svg class="w-10 h-10 text-gold" fill="currentColor" viewBox="0 0 20 20">
              <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-semibold mb-4">Corte Masculino</h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Cortes modernos e clássicos adaptados ao seu estilo pessoal
          </p>
          <p class="text-gold font-semibold text-lg">⏱️ 20 minutos</p>
        </div>

        <!-- Service 2 -->
        <div class="bg-white dark:bg-gray-700 p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow">
          <div class="w-20 h-20 bg-gold/10 rounded-full flex items-center justify-center mb-6">
            <svg class="w-10 h-10 text-gold" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-xl font-semibold mb-4">Barba & Bigode</h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Modelagem, aparar e cuidados especiais para sua barba
          </p>
          <p class="text-gold font-semibold text-lg">⏱️ 10 minutos</p>
        </div>

        <!-- Service 3 -->
        <div class="bg-white dark:bg-gray-700 p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow">
          <div class="w-20 h-20 bg-gold/10 rounded-full flex items-center justify-center mb-6">
            <svg class="w-10 h-10 text-gold" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-semibold mb-4">Skincare</h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Limpeza de pele e tratamentos faciais especializados
          </p>
          <p class="text-gold font-semibold text-lg">⏱️ 15 minutos</p>
        </div>

        <!-- Service 4 -->
        <div class="bg-white dark:bg-gray-700 p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow">
          <div class="w-20 h-20 bg-gold/10 rounded-full flex items-center justify-center mb-6">
            <svg class="w-10 h-10 text-gold" fill="currentColor" viewBox="0 0 20 20">
              <path d="M12 6V4a2 2 0 00-2-2H8a2 2 0 00-2 2v2H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-2zM8 6V4h2v2H8z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-semibold mb-4">Queratina</h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Tratamento de queratina para alisamento e hidratação profunda
          </p>
          <p class="text-gold font-semibold text-lg">⏱️ 1 hora</p>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="sobre" class="py-20 scroll-mt-24">
    <div class="container mx-auto px-4">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-4xl font-bold mb-6">Sobre a Barbearia VIP</h2>
          <p class="text-lg mb-6 text-gray-600 dark:text-gray-300">
            Com mais de 10 anos de experiência, somos referência em cortes masculinos e cuidados com a barba. 
            Nossa equipe é formada por profissionais especializados que estão sempre atualizados com as últimas tendências.
          </p>
          <div class="grid grid-cols-2 gap-6">
            <div class="text-center">
              <div class="text-3xl font-bold text-gold">500+</div>
              <div class="text-gray-600 dark:text-gray-300">Clientes Satisfeitos</div>
            </div>
            <div class="text-center">
              <div class="text-3xl font-bold text-gold">10+</div>
              <div class="text-gray-600 dark:text-gray-300">Anos de Experiência</div>
            </div>
          </div>
        </div>
        <div class="bg-gray-200 dark:bg-gray-700 h-96 rounded-xl flex items-center justify-center">
          <span class="text-gray-500 dark:text-gray-400">Imagem da Barbearia</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Galeria Carrossel -->
  <section class="py-20 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-bold mb-4">Nossa Galeria</h2>
        <p class="text-lg text-gray-600 dark:text-gray-300">
          Conheça nosso ambiente e alguns dos nossos trabalhos
        </p>
      </div>
      
      <!-- Carrossel Container -->
      <div class="relative max-w-5xl mx-auto">
        <div class="overflow-hidden rounded-xl shadow-2xl">
          <div id="carousel" class="flex transition-transform duration-500 ease-in-out">
            <!-- Slide 2 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image2.jpeg" alt="Corte Masculino" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Cortes Modernos</h3>
                  <p class="text-lg opacity-90">Sempre acompanhando as últimas tendências</p>
                </div>
              </div>
            </div>
            <!-- Slide 3 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image3.jpeg" alt="Barba e Bigode" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Cuidados com a Barba</h3>
                  <p class="text-lg opacity-90">Modelagem e tratamentos especializados</p>
                </div>
              </div>
            </div>
            <!-- Slide 4 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image4.jpeg" alt="Produtos Profissionais" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Produtos Premium</h3>
                  <p class="text-lg opacity-90">Utilizamos apenas produtos de primeira qualidade</p>
                </div>
              </div>
            </div>
            <!-- Slide 5 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image5.jpeg" alt="Experiência Completa" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Experiência Premium</h3>
                  <p class="text-lg opacity-90">Atendimento personalizado e de excelência</p>
                </div>
              </div>
            </div>
            <!-- Slide 6 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image6.jpeg" alt="Serviços Especializados" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Serviços Especializados</h3>
                  <p class="text-lg opacity-90">Tratamentos únicos e personalizados</p>
                </div>
              </div>
            </div>
            <!-- Slide 7 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image7.jpeg" alt="Equipamentos Modernos" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Equipamentos Modernos</h3>
                  <p class="text-lg opacity-90">Tecnologia de ponta para melhores resultados</p>
                </div>
              </div>
            </div>
            <!-- Slide 8 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image8.jpeg" alt="Profissionais Qualificados" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Profissionais Qualificados</h3>
                  <p class="text-lg opacity-90">Equipe experiente e capacitada</p>
                </div>
              </div>
            </div>
            <!-- Slide 9 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image9.jpeg" alt="Atendimento VIP" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Atendimento VIP</h3>
                  <p class="text-lg opacity-90">Experiência exclusiva e diferenciada</p>
                </div>
              </div>
            </div>
            <!-- Slide 10 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image10.jpeg" alt="Tratamentos Especiais" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Tratamentos Especiais</h3>
                  <p class="text-lg opacity-90">Cuidados avançados para seu bem-estar</p>
                </div>
              </div>
            </div>
            <!-- Slide 11 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image11.jpeg" alt="Resultados Incríveis" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Resultados Incríveis</h3>
                  <p class="text-lg opacity-90">Transformações que impressionam</p>
                </div>
              </div>
            </div>
            <!-- Slide 12 -->
            <div class="carousel-slide w-full flex-shrink-0 relative">
              <img src="/fotos/image12.jpeg" alt="Satisfação Garantida" class="w-full h-auto object-contain" loading="lazy" decoding="async">
              <div class="absolute inset-0 bg-black/20 flex items-end">
                <div class="p-6 text-white">
                  <h3 class="text-2xl font-bold mb-2">Satisfação Garantida</h3>
                  <p class="text-lg opacity-90">Comprometimento com a excelência</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Botões de Navegação -->
        <button id="prevBtn" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 backdrop-blur-sm" aria-label="Slide anterior">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        
        <button id="nextBtn" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 backdrop-blur-sm" aria-label="Próximo slide">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
        
        <!-- Indicadores -->
        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="0" aria-label="Ir ao slide 1"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="1" aria-label="Ir ao slide 2"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="2" aria-label="Ir ao slide 3"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="3" aria-label="Ir ao slide 4"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="4" aria-label="Ir ao slide 5"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="5" aria-label="Ir ao slide 6"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="6" aria-label="Ir ao slide 7"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="7" aria-label="Ir ao slide 8"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="8" aria-label="Ir ao slide 9"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="9" aria-label="Ir ao slide 10"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="10" aria-label="Ir ao slide 11"></button>
          <button class="carousel-indicator w-3 h-3 bg-white/50 rounded-full transition-all duration-300" data-slide="11" aria-label="Ir ao slide 12"></button>
        </div>
      </div>
    </div>
  </section>

  <!-- Mapa -->
  <section class="py-20 bg-white dark:bg-gray-900">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-bold mb-4">Nossa Localização</h2>
        <p class="text-lg text-gray-600 dark:text-gray-300">Venha nos visitar em Foz do Iguaçu!</p>
      </div>
      <div class="max-w-7xl mx-auto">
        <div class="bg-white dark:bg-gray-700 rounded-xl shadow-lg overflow-hidden">
          <div class="p-6 border-b border-gray-200 dark:border-gray-600">
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-gold/10 rounded-full flex items-center justify-center">
                <svg class="w-4 h-4 text-gold" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-lg">José Maria de Brito, 1250</h3>
                <p class="text-gray-600 dark:text-gray-300">Foz do Iguaçu, PR</p>
              </div>
            </div>
          </div>
          <div class="h-[800px] w-full">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3644.8762857485794!2d-54.58808068502179!3d-25.52751798375684!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94f693d85b47129b%3A0x6c0a5c2e5d5e5c6a!2sR.%20Jos%C3%A9%20Maria%20de%20Brito%2C%201250%20-%20Vila%20A%2C%20Foz%20do%20Igua%C3%A7u%20-%20PR!5e0!3m2!1spt-BR!2sbr!4v1645123456789!5m2!1spt-BR!2sbr" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <div class="p-6 bg-gray-50 dark:bg-gray-800">
            <div class="flex flex-col sm:flex-row gap-4">
              <a href="https://maps.google.com/?q=José+Maria+de+Brito+1250+Foz+do+Iguaçu" target="_blank" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors text-center">
                Abrir no Google Maps
              </a>
              <!-- Corrigido: link usa JS para codificar o texto e enviar -->
              <a href="#" id="waDirections" class="flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors text-center">
                Pedir Direções via WhatsApp
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contato" class="py-20 bg-gray-50 dark:bg-gray-800 scroll-mt-24">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-4">Entre em Contato</h2>
        <p class="text-lg text-gray-600 dark:text-gray-300">
          Agende seu horário pelo WhatsApp de forma rápida e prática
        </p>
      </div>
      
      <!-- WhatsApp CTA Principal -->
      <div class="max-w-4xl mx-auto mb-16">
        <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-8 text-center text-white shadow-2xl">
          <div class="mb-6">
            <svg class="w-16 h-16 mx-auto mb-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"/>
            </svg>
            <h3 class="text-3xl font-bold mb-2">Agendamento via WhatsApp</h3>
            <p class="text-xl opacity-90">Fale conosco agora mesmo!</p>
          </div>
          <a href="#" id="waMainCta" class="inline-flex items-center justify-center bg-white text-green-600 font-bold py-4 px-8 rounded-xl text-lg hover:bg-gray-100 transition-colors shadow-lg group">
            <svg class="w-6 h-6 mr-3 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 24 24">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"/>
            </svg>
            Chamar no WhatsApp
          </a>
          <p class="mt-4 text-sm opacity-75">+55 (45) 9 9132-1488</p>
        </div>
      </div>

      <div class="grid lg:grid-cols-2 gap-12">
        <!-- Contact Info -->
        <div class="space-y-8">
          <div class="flex items-start space-x-4">
            <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"/>
              </svg>
            </div>
            <div>
              <h3 class="font-semibold text-lg mb-2">WhatsApp</h3>
              <p class="text-gray-600 dark:text-gray-300 mb-2">+55 (45) 9 9132-1488</p>
              <a href="#" id="waInfo" class="text-green-600 hover:text-green-700 font-medium">
                Enviar mensagem →
              </a>
            </div>
          </div>
          
          <div class="flex items-start space-x-4">
            <div class="w-12 h-12 bg-gold/10 rounded-full flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-gold" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
              </svg>
            </div>
            <div>
              <h3 class="font-semibold text-lg mb-2">Endereço</h3>
              <p class="text-gray-600 dark:text-gray-300">José Maria de Brito, 1250<br>Foz do Iguaçu, PR</p>
            </div>
          </div>

          <div class="flex items-start space-x-4">
            <div class="w-12 h-12 bg-gold/10 rounded-full flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-gold" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 2L3 7v11a1 1 0 001 1h12a1 1 0 001-1V7l-7-5zM8 15a1 1 0 01-1-1v-3a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1H8z"/>
              </svg>
            </div>
            <div>
              <h3 class="font-semibold text-lg mb-2">Horário de Funcionamento</h3>
              <div class="text-gray-600 dark:text-gray-300 space-y-1">
                <div>Segunda - Sexta: 8h às 19h</div>
                <div>Sábado: 8h às 17h</div>
                <div>Domingo: Fechado</div>
              </div>
            </div>
          </div>
        </div>

        <!-- WhatsApp Benefits -->
        <div class="bg-white dark:bg-gray-700 p-8 rounded-xl shadow-lg">
          <h3 class="text-2xl font-bold mb-6 text-center">Por que usar o WhatsApp?</h3>
          <div class="space-y-6">
            <div class="flex items-start space-x-4">
              <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold mb-1">Agendamento Rápido</h4>
                <p class="text-gray-600 dark:text-gray-300 text-sm">Marque seu horário em poucos segundos</p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold mb-1">Confirmação Instantânea</h4>
                <p class="text-gray-600 dark:text-gray-300 text-sm">Receba confirmação imediata do seu agendamento</p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold mb-1">Lembretes Automáticos</h4>
                <p class="text-gray-600 dark:text-gray-300 text-sm">Receba lembretes antes do seu horário</p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
              </div>
              <div>
                <h4 class="font-semibold mb-1">Suporte Direto</h4>
                <p class="text-gray-600 dark:text-gray-300 text-sm">Tire dúvidas diretamente com nossa equipe</p>
              </div>
            </div>
          </div>
          
          <div class="mt-8 text-center">
            <a href="#" id="waSecondaryCta" class="inline-flex items-center justify-center bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors">
              <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"/>
              </svg>
              Agendar pelo WhatsApp
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 dark:bg-gray-950 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-8">
        <div>
          <div class="text-2xl font-bold text-gold mb-4">Barbearia VIP</div>
          <p class="text-gray-400">Sua barbearia de confiança há mais de 10 anos. Qualidade e excelência em cada corte.</p>
        </div>
        <div>
          <h3 class="font-semibold text-lg mb-4">Horário de Funcionamento</h3>
          <div class="space-y-2 text-gray-400">
            <div>Segunda - Sexta: 8h às 19h</div>
            <div>Sábado: 8h às 17h</div>
            <div>Domingo: Fechado</div>
          </div>
        </div>
        <div>
          <h3 class="font-semibold text-lg mb-4">Redes Sociais</h3>
          <div class="flex space-x-4">
            <a href="#" class="w-10 h-10 bg-gold/10 rounded-full flex items-center justify-center hover:bg-gold/20 transition-colors">
              <svg class="w-5 h-5 text-gold" fill="currentColor" viewBox="0 0 24 24">
                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
              </svg>
            </a>
            <a href="#" class="w-10 h-10 bg-gold/10 rounded-full flex items-center justify-center hover:bg-gold/20 transition-colors">
              <svg class="w-5 h-5 text-gold" fill="currentColor" viewBox="0 0 24 24">
                <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
              </svg>
            </a>
            <a href="#" class="w-10 h-10 bg-gold/10 rounded-full flex items-center justify-center hover:bg-gold/20 transition-colors">
              <svg class="w-5 h-5 text-gold" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.749-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>&copy; 2025 Barbearia VIP. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- Modal de Agendamento -->
  <div id="agendamentoModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto">
      <!-- Header do Modal -->
      <div class="p-6 border-b border-gray-200 dark:border-gray-700">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Agendar Horário</h2>
          <button id="closeModalBtn" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- Formulário -->
      <form id="agendamentoForm" class="p-6 space-y-4">
        <!-- Nome -->
        <div>
          <label for="nome" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Nome Completo</label>
          <input type="text" id="nome" name="nome" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gold focus:border-transparent dark:bg-gray-700 dark:text-white">
        </div>

        <!-- Telefone -->
        <div>
          <label for="telefone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Telefone</label>
          <input type="tel" id="telefone" name="telefone" required inputmode="tel" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gold focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="(00) 00000-0000">
        </div>

        <!-- Serviço -->
        <div>
          <label for="servico" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tipo de Serviço</label>
          <select id="servico" name="servico" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gold focus:border-transparent dark:bg-gray-700 dark:text-white">
            <option value="">Selecione um serviço</option>
            <option value="Corte Masculino">Corte Masculino (20 min)</option>
            <option value="Barba & Bigode">Barba & Bigode (10 min)</option>
            <option value="Skincare">Skincare (15 min)</option>
            <option value="Queratina">Queratina (1 hora)</option>
          </select>
        </div>

        <!-- Data -->
        <div>
          <label for="data" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Data Preferida</label>
          <input type="date" id="data" name="data" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gold focus:border-transparent dark:bg-gray-700 dark:text-white">
        </div>

        <!-- Horário -->
        <div>
          <label for="horario" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Horário Preferido</label>
          <select id="horario" name="horario" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gold focus:border-transparent dark:bg-gray-700 dark:text-white">
            <option value="">Selecione primeiro o dia</option>
          </select>
        </div>

        <!-- Botões -->
        <div class="flex gap-3 pt-4">
          <button type="button" id="cancelarBtn" class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
            Cancelar
          </button>
          <button type="submit" class="flex-1 px-4 py-2 bg-gold hover:bg-darkgold text-black font-semibold rounded-lg transition-colors">
            Confirmar Agendamento
          </button>
        </div>
      </form>
    </div>
  </div>

  <script>
  // -----------------------
  // Constantes WhatsApp + helper
  // -----------------------
  const WA_PHONE = '5545991321488';
  function enviarWhatsApp(mensagem) {
    const msg = encodeURIComponent(mensagem);
    const url1 = `https://wa.me/${WA_PHONE}?text=${msg}`;
    const url2 = `https://api.whatsapp.com/send?phone=${WA_PHONE}&text=${msg}`;
    // usa mesma aba para evitar bloqueio de pop-up
    window.location.href = url1;
    // fallback (desktop / webview)
    setTimeout(() => {
      if (document.visibilityState === 'visible') {
        window.location.href = url2;
      }
    }, 800);
  }

  // -----------------------
  // Sistema de Horários Dinâmicos (API -> localStorage -> fallback)
  // -----------------------
  const API_BASE = 'https://barbeariacaio.onrender.com';

  // Mapear nomes dos dias pt-BR -> chaves do backend
  const diasSemana = {
    'Segunda-feira': 'segunda',
    'Terça-feira': 'terca',
    'Quarta-feira': 'quarta',
    'Quinta-feira': 'quinta',
    'Sexta-feira': 'sexta',
    'Sábado': 'sabado',
    'Domingo': 'domingo'
  };

  // Fallback padrão
  const DEFAULT_HORARIOS = {
    segunda: ["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],
    terca:   ["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],
    quarta:  ["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],
    quinta:  ["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],
    sexta:   ["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],
    sabado:  ["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],
    domingo: []
  };

  let horariosCache = null;

  async function carregarHorariosDisponiveis() {
    if (horariosCache) return horariosCache;

    // 1) Tenta API
    try {
      const r = await fetch(`${API_BASE}/horarios`, { 
        cache: 'no-store',
        credentials: 'include' // inclui cookies se necessário
      });
      if (!r.ok) throw new Error(r.status);
      const data = await r.json();

      // persiste no localStorage para uso offline
      const db = JSON.parse(localStorage.getItem('barbeariaAdmin') || '{}');
      db.horarios = data;
      localStorage.setItem('barbeariaAdmin', JSON.stringify(db));

      horariosCache = data;
      return data;
    } catch (_) {
      // 2) Tenta localStorage
      const saved = localStorage.getItem('barbeariaAdmin');
      if (saved) {
        const db = JSON.parse(saved);
        if (db.horarios) {
          horariosCache = db.horarios;
          return horariosCache;
        }
      }
      // 3) Fallback padrão
      horariosCache = DEFAULT_HORARIOS;
      return horariosCache;
    }
  }

  // -----------------------
  // Modal de Agendamento
  // -----------------------
  const modal = document.getElementById('agendamentoModal');
  const openModalBtn = document.getElementById('openModalBtn');
  const closeModalBtn = document.getElementById('closeModalBtn');
  const cancelarBtn = document.getElementById('cancelarBtn');
  const agendamentoForm = document.getElementById('agendamentoForm');
  const dataInput = document.getElementById('data');

  // Definir data mínima como HOJE (hora local)
  const now = new Date();
  const localISODate = new Date(now.getTime() - now.getTimezoneOffset() * 60000).toISOString().split('T')[0];
  dataInput.min = localISODate;

  // Atualiza horários sempre que a data muda
  dataInput.addEventListener('change', async function () {
    const dataSelecionada = this.value;
    const horarioSelect = document.getElementById('horario');

    if (!dataSelecionada) {
      horarioSelect.innerHTML = '<option value="">Selecione primeiro o dia</option>';
      return;
    }

    // Descobrir o dia da semana em pt-BR e mapear
    const data = new Date(`${dataSelecionada}T00:00:00`);
    const nomeDia = data.toLocaleDateString('pt-BR', { weekday: 'long' });
    const nomeDiaFormatado = nomeDia.charAt(0).toUpperCase() + nomeDia.slice(1); // ex: "terça-feira" -> "Terça-feira"

    const diaChave = diasSemana[nomeDiaFormatado];
    const horariosDisponiveis = await carregarHorariosDisponiveis();

    // Limpar e popular o select
    horarioSelect.innerHTML = '<option value="">Selecione um horário</option>';
    if (diaChave && Array.isArray(horariosDisponiveis[diaChave])) {
      const horarios = horariosDisponiveis[diaChave];
      if (horarios.length === 0) {
        horarioSelect.innerHTML = '<option value="">Fechado neste dia</option>';
      } else {
        horarios.forEach(h => {
          const opt = document.createElement('option');
          opt.value = h;
          opt.textContent = h;
          horarioSelect.appendChild(opt);
        });
      }
    } else {
      horarioSelect.innerHTML = '<option value="">Sem horários disponíveis</option>';
    }
  });

  // Abrir modal
  openModalBtn.addEventListener('click', () => {
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  });

  // Fechar modal
  function fecharModal() {
    modal.classList.add('hidden');
    document.body.style.overflow = 'auto';
    agendamentoForm.reset();
    // Limpa horários quando fechar
    const horarioSelect = document.getElementById('horario');
    horarioSelect.innerHTML = '<option value="">Selecione primeiro o dia</option>';
  }
  closeModalBtn.addEventListener('click', fecharModal);
  cancelarBtn.addEventListener('click', fecharModal);

  // Fechar clicando fora
  modal.addEventListener('click', (e) => {
    if (e.target === modal) fecharModal();
  });
  // Fechar com ESC
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && !modal.classList.contains('hidden')) fecharModal();
  });

  // Submeter formulário -> Enviar via WhatsApp + salvar em localStorage
  agendamentoForm.addEventListener('submit', (e) => {
    e.preventDefault();

    const nome = document.getElementById('nome').value.trim();
    const telefone = document.getElementById('telefone').value.trim();
    const servico = document.getElementById('servico').value;
    const data = document.getElementById('data').value;
    const horario = document.getElementById('horario').value;

    const dataFormatada = new Date(`${data}T00:00:00`).toLocaleDateString('pt-BR');

    // Persiste para a área admin (localStorage)
    const dadosAgendamento = { nome, telefone, servico, data, horario };
    let database = JSON.parse(localStorage.getItem('barbeariaAdmin')) || {};
    database.agendamentos = database.agendamentos || [];
    database.agendamentos.push({ ...dadosAgendamento, timestamp: new Date().toISOString(), id: Date.now() });
    localStorage.setItem('barbeariaAdmin', JSON.stringify(database));

    const mensagem =
      `🏪 *AGENDAMENTO - BARBEARIA VIP*\n\n` +
      `👤 *Nome:* ${nome}\n` +
      `📞 *Telefone:* ${telefone}\n` +
      `✂️ *Serviço:* ${servico}\n` +
      `📅 *Data:* ${dataFormatada}\n` +
      `⏰ *Horário:* ${horario}\n\n` +
      `Olá! Gostaria de agendar este horário. Obrigado!`;

    enviarWhatsApp(mensagem);
    fecharModal();
  });

  // -----------------------
  // Ações WhatsApp em CTAs fora do modal
  // -----------------------
  document.getElementById('waMainCta')?.addEventListener('click', (e) => {
    e.preventDefault();
    enviarWhatsApp('Olá! Gostaria de agendar um horário na Barbearia VIP.');
  });
  document.getElementById('waSecondaryCta')?.addEventListener('click', (e) => {
    e.preventDefault();
    enviarWhatsApp('Olá! Gostaria de agendar um horário na Barbearia VIP.');
  });
  document.getElementById('waInfo')?.addEventListener('click', (e) => {
    e.preventDefault();
    enviarWhatsApp('Olá! Gostaria de mais informações.');
  });
  document.getElementById('waDirections')?.addEventListener('click', (e) => {
    e.preventDefault();
    enviarWhatsApp('Olá! Preciso de direções para a Barbearia VIP.');
  });

  // -----------------------
  // Carousel
  // -----------------------
  const carousel = document.getElementById('carousel');
  const slides = document.querySelectorAll('#carousel .carousel-slide');
  const indicators = document.querySelectorAll('.carousel-indicator');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  let currentSlide = 0;
  const totalSlides = slides.length;
  let autoPlayInterval;

  function updateIndicators() {
    indicators.forEach((indicator, i) => {
      indicator.classList.toggle('bg-gold', i === currentSlide);
      indicator.classList.toggle('bg-white/50', i !== currentSlide);
    });
  }

  function showSlide(index) {
    if (totalSlides === 0) return;
    if (index >= totalSlides) currentSlide = 0;
    else if (index < 0) currentSlide = totalSlides - 1;
    else currentSlide = index;

    carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
    updateIndicators();
  }

  function nextSlide() { showSlide(currentSlide + 1); }
  function prevSlide() { showSlide(currentSlide - 1); }

  function startAutoPlay() {
    stopAutoPlay();
    autoPlayInterval = setInterval(nextSlide, 4000);
  }
  function stopAutoPlay() {
    if (autoPlayInterval) clearInterval(autoPlayInterval);
  }

  nextBtn.addEventListener('click', () => { nextSlide(); startAutoPlay(); });
  prevBtn.addEventListener('click', () => { prevSlide(); startAutoPlay(); });

  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => { showSlide(index); startAutoPlay(); });
  });

  const carouselWrapper = carousel.parentElement;
  carouselWrapper.addEventListener('mouseenter', stopAutoPlay);
  carouselWrapper.addEventListener('mouseleave', startAutoPlay);

  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowRight') { nextSlide(); startAutoPlay(); }
    if (e.key === 'ArrowLeft')  { prevSlide(); startAutoPlay(); }
  });

  showSlide(0);
  startAutoPlay();

  // -----------------------
  // Smooth scrolling (ignora links '#' dos CTAs)
  // -----------------------
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      const href = this.getAttribute('href');
      if (href && href.length > 1) {
        e.preventDefault();
        const target = document.querySelector(href);
        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });

  // -----------------------
  // Mobile Menu
  // -----------------------
  const mobileMenuBtn = document.getElementById('mobileMenuBtn');
  const mobileMenu = document.getElementById('mobileMenu');

  mobileMenuBtn.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });

  mobileMenu.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.add('hidden');
    });
  });

  document.addEventListener('click', (e) => {
    if (!mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
      mobileMenu.classList.add('hidden');
    }
  });

  // Pré-carrega horários na cache (opcional)
  carregarHorariosDisponiveis();
</script>

</body>
</html>
